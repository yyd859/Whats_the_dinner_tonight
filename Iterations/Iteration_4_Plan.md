# Iteration 4 计划

本迭代将重点优化用户体验，包括菜品图片的匹配度和房间创建时的个性化选择。

## 1. 优化菜品图片匹配
### 问题分析
当前菜品图片使用静态的 Unsplash 链接，匹配度较低，部分菜名与图片内容不符。

### 优化方案
*   **方案 A**：更新 `dishes.json`，为每个菜品手动筛选更精准的图片 URL。
*   **方案 B**：后端集成 Unsplash API 或 Google Image Search API，在请求菜品列表时动态获取（可能存在速率限制和成本问题）。
*   **方案 C (推荐)**：使用 Unsplash 的特定搜索链接格式，例如 `https://source.unsplash.com/800x600/?food,chinese-food,{dish_name_en}`，或者在 JSON 中增加 `keywords` 字段，用于精准匹配。
*   **实施内容**：
    *   扩充 `dishes.json` 的元数据。
    *   尝试引入中文转英文翻译（或手动添加英文名）以提高 Unsplash 搜索准确度。

## 2. 房间创建时的分类筛选
### 功能描述
创建房间时，不再直接创建，而是先让创建者选择本次匹配的菜品范围。

### UI/UX 设计
*   **分类列表**：支持大菜、家常菜、粤菜、川菜、湘菜、鲁菜、素菜、凉菜、主食、汤类等。
*   **交互形式**：
    *   点击“创建房间”后弹出/显示一个可纵向滑动的分类列表。
    *   左侧或右侧带有复选框（Checkbox）。
    *   顶部提供“全选”按钮，支持一键切换。
*   **确认机制**：选好分类后点击“确认并创建”，生成的房间将只包含选中分类的菜品。

### 技术实现
1.  **前端**：
    *   新增 `CategorySelector` 组件或在 `App.vue` 中实现筛选逻辑。
    *   修改 `sendMessage('create-room')`，携带 `selectedCategories` 参数。
2.  **后端**：
    *   `websocket/message.js` 中的 `create-room` 处理逻辑需接收并保存选中的分类。
    *   在下发菜品列表时，根据分类过滤 `dishes.json` 中的数据。

## 3. 分支管理
*   当前分支：`iteration-4`
